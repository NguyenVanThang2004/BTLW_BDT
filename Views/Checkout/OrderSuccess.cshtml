@model BTLW_BDT.Models.HoaDonBan
@{
    ViewData["Title"] = "Order Success";
    Layout = "~/Views/Shared/_LayoutCart.cshtml";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
            <div class="alert alert-success" role="alert">
                <h2 class="font-weight-semi-bold">Đặt Hàng Thành Công!</h2>
                <p>Cảm ơn bạn đã mua sắm với chúng tôi. Đơn hàng của bạn đã được đặt thành công.</p>
            </div>

            <!-- Thông Tin Đơn Hàng -->
            <div class="order-info mt-5 p-4 rounded shadow-sm">
                <h4 class="font-weight-bold">Thông Tin Đơn Hàng</h4>
                <hr>
                <p><strong>Mã Đơn Hàng:</strong> @Model.MaHoaDon</p>
                <p><strong>Tên Khách Hàng:</strong> @Context.Session.GetString("HoTen")</p>
                <p><strong>Ngày Sinh:</strong> @Context.Session.GetString("NgaySinh")</p>
                <p><strong>Số Điện Thoại:</strong> @Context.Session.GetString("SoDienThoai")</p>
                <p><strong>Địa Chỉ:</strong> @Context.Session.GetString("DiaChi")</p>
                <p><strong>Thời Gian Đặt:</strong> @Model.ThoiGianLap.ToString("dd/MM/yyyy HH:mm")</p>
                <p><strong>Phương Thức Thanh Toán:</strong> @Model.PhuongThucThanhToan</p>
                
            </div>

            <!-- Chi Tiết Sản Phẩm -->
            <div class="product-list mt-5 p-4 rounded shadow-sm">
                <h4 class="font-weight-bold">Chi Tiết Sản Phẩm</h4>
                <hr>
                @foreach (var item in Model.ChiTietHoaDonBans)
                {
                    <div class="d-flex justify-content-between mb-3">
                        <div class="text-left">
                            <p class="mb-0">@item.MaSanPhamNavigation.TenSanPham</p>
                            <small class="text-muted">
                              @*  Màu: @item.ThongSoMau - ROM: @item.ThongSoRom *@
                                x @item.SoLuongBan
                            </small>
                        </div>
                        <p class="mb-0">@Convert.ToDouble(item.DonGiaCuoi * item.SoLuongBan).ToString("N0") VNĐ</p>
                    </div>
                }
            </div>

            <hr class="my-4">
            <div class="d-flex justify-content-between font-weight-bold total-amount">
                <h5>Tổng Cộng:</h5>
                <h5>@Convert.ToDouble(Model.TongTien).ToString("N0") VNĐ</h5>
            </div>

            <a href="@Url.Action("Index", "Home")" class="btn btn-primary mt-4">Tiếp Tục Mua Sắm</a>
        </div>
    </div>
</div>

<style>
    .order-info p, .product-list p {
        font-size: 16px;
        color: #333;
    }

    .alert-success {
        padding: 30px;
        font-size: 18px;
    }

    .text-left {
        text-align: left !important;
    }

    .text-muted {
        font-size: 14px;
    }
</style>