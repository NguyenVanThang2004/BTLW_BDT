@{
    ViewData["Title"] = "Order Success";
    Layout = "~/Views/Shared/_LayoutCart.cshtml";
}
@model List<BTLW_BDT.Models.Cart.CartItem>

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
             <div class="alert alert-success" role="alert">
                <h2 class="font-weight-semi-bold">Đặt Hàng Thành Công!</h2>
                <p>Cảm ơn bạn đã mua sắm với chúng tôi. Đơn hàng của bạn đã được đặt thành công và sẽ được thanh toán tại cửa hàng.</p>
            </div>

            <!-- Thông Tin Đơn Hàng -->
            <div class="order-info mt-5 p-4 rounded shadow-sm">
                <h4 class="font-weight-bold">Thông Tin Đơn Hàng</h4>
                <hr>
                <p><strong>Tên Khách Hàng:</strong> @Context.Session.GetString("HoTen")</p>
                <p><strong>Ngày Sinh:</strong>@Context.Session.GetString("NgaySinh")</p>
                <p><strong>Số Điện Thoại:</strong> @Context.Session.GetString("SoDienThoai")</p>
                <p><strong>Địa Chỉ:</strong> @Context.Session.GetString("DiaChi")</p>
                <p><strong>Ghi Chú:</strong> Mua Kẹo</p>
                <p><strong>Phương Thức Thanh Toán:</strong> @TempData["Message"]</p>
            </div>

            <!-- Chi Tiết Sản Phẩm -->
            <div class="product-list mt-5 p-4 rounded shadow-sm">
                <h4 class="font-weight-bold">Chi Tiết Sản Phẩm</h4>
                <hr>
                @foreach (var item in Model)
                {
                    <div class="d-flex justify-content-between mb-3">
                        <p class="mb-0">@item.TenSanPham</p>
                        <p class="mb-0">@Convert.ToDouble(item.TongTien).ToString("N0") VNĐ</p>
                    </div>
                }
            </div>

            <hr class="my-4">
            <div class="d-flex justify-content-between font-weight-bold total-amount">
                <h5>Tổng Cộng:</h5>
                <h5>@((Model.Sum(item => item.TongTien) + 25000).ToString("N0")) VNĐ</h5>
            </div>

            <a asp-controller="Cart" asp-action="ClearCart" class="btn btn-primary mt-4">Tiếp Tục Mua Sắm</a>
        </div>
    </div>
</div>

<style>
    .order-info p, .product-list p {
        font-size: 16px;
        color: #333;
    }

    .alert-success {
        padding: 30px;
        font-size: 18px;
    }
</style>
